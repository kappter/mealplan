<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Randomizer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="theme-toggle-container">
        <input type="checkbox" id="theme-toggle">
        <label for="theme-toggle" class="theme-toggle-label">
            <span class="dot">
                <svg class="sun-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4.95 2.05a1 1 0 011.414 1.414l-.707.707a1 1 0 01-1.414-1.414l.707-.707zM17 10a1 1 0 110 2h-1a1 1 0 110-2h1zm-1.95 4.95a1 1 0 011.414-1.414l.707.707a1 1 0 01-1.414 1.414l-.707-.707zM10 17a1 1 0 01-1 1h0a1 1 0 01-1-1v-1a1 1 0 011-1h0a1 1 0 011 1v1zm-4.95-2.05a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 011.414-1.414l.707.707zM3 10a1 1 0 01-2 0v0a1 1 0 012 0h1zm2.05-4.95a1 1 0 011.414-1.414l.707.707a1 1 0 01-1.414 1.414l-.707-.707zM10 14a4 4 0 100-8 4 4 0 000 8z" />
                </svg>
                <svg class="moon-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10.75 3.75a6.25 6.25 0 01-7.5 9.5 6.25 6.25 0 017.5-9.5zm0 1.5a4.75 4.75 0 00-4.75 4.75c0 2.62 2.13 4.75 4.75 4.75.72 0 1.4-.16 2.02-.45a.75.75 0 01.98.98c-.73 1.47-2.24 2.47-3.99 2.47-2.76 0-5-2.24-5-5s2.24-5 5-5c1.75 0 3.26 1 3.99 2.47a.75.75 0 01-.98.98c-.62-.29-1.3-.45-2.02-.45z" />
                </svg>
            </span>
        </label>
    </div>
    <div class="container">
        <h1>Meal Randomizer</h1>
        <div class="meal-display-card">
            <p>Your Next Meal Idea:</p>
            <h2>Appetizer: <span id="appetizer-display"></span></h2>
            <h2>Entree: <span id="entree-display">Loading meals...</span></h2>
            <h2>Side: <span id="side-display"></span></h2>
            <p>Overall Tags: <span id="meal-category"></span></p>
            <p>Key Ingredients for Meal: <span id="meal-ingredients"></span></p>
        </div>
        <div class="filter-card">
            <p>Have an entree ingredient to use?</p>
            <input type="text" id="base-ingredient-input" class="input-field" placeholder="e.g. Eggplant, Chicken, Lentils">
            <button id="filter-button" class="btn-primary">Find Meal with Entree Ingredient</button>
        </div>
        <div class="filter-card">
            <p>Or click on a main entree food item:</p>
            <div id="food-items-container" class="food-items-grid"></div>
        </div>
        <div class="prompt-box">
            <h3>Recipe Search / AI Prompt:</h3>
            <p id="prompt-display">Your prompt will appear here after a meal is selected.</p>
        </div>
    </div>
    <script src="script.js" defer></script>
</body>
</html>